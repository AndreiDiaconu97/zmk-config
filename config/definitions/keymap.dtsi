#include "config.h"
#include "../features/behaviors.dtsi"
#include "../features/mouse.dtsi"
#include "../features/combos.dtsi"
#include "../features/symbols.dtsi"
#include "../features/macros.dtsi"

/ {
  keymap {
    compatible = "zmk,keymap";

    base_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp Q         &kp W         &kp F         &kp P         &kp B             &kp J         &kp L         &kp U         &kp Y         &kp SQT
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             HRML(A,       R,            S,            T)            &kp G             &kp M         HRMR(N,       E,            I,            O)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp Z         &kp X         &kp C         &kp D         &kp V             &kp K         &kp H         &sh_comma     &sh_dot       &sh_slash
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       &lt_bspc NAV 0 &kp SPACE        NKQ_SHIFT     MO_SL(SYM_NUM)
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    querty_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp Q         &kp W         &kp E         &kp R         &kp T             &kp Y         &kp U         &kp I         &kp O         &kp P
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             HRML(A,       S,            D,            F)            &kp G             &kp H         HRMR(J,       K,            L,            SEMICOLON)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp Z         &kp X         &kp C         &kp V         &kp B             &kp N         &kp M         &sh_comma     &sh_dot       &kp SLASH
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       ___           ___               ___           ___
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    hands_down_titanium {  // Put Z and Q on separate layer or combo
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp J         &kp G         &kp M         &kp P         &kp V             XXX           &kp DOT       &kp Q         &kp Z         &kp SQT
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             HRML(C,       S,            N,            T)            &kp K             &kp COMMA     HRMR(A,       E,            I,            H)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp W         &kp F         &kp L         &kp D         &kp B             XXX           &kp U         &kp O         &kp Y         &kp X
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       ___           ___               ___           &lt_r SYM_NUM 0
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    nav_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp PG_UP     &kp HOME      &kp UP        &kp END       &turbo_A          &kp INS       XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp PG_DN     &kp LEFT      &kp DOWN      &kp RIGHT     &kp CAPS          XXX           NK(LSHIFT)     NK(LCTRL)    NK(LALT)      NK(LGUI)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &tog FUNCT    &kp COPY      &kp CUT       &kp PASTE     XXX               &kp PSCRN     XXX           XXX           XXX           XXX
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       ___           XXX               &key_repeat   XXX // TODO
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    sym_num_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &mc_excl      &mc_at        &mc_hash      &mc_dllr      &mc_prcnt         &mc_caret     &mc_amps      &mc_star      &mc_qmark     &mc_grave
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             HRML(N1,      N2,           N3,           N4)           &kp N5            &kp N6        HRMR(N7,      N8,           N9,           N0)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &dm1 RECORD   &dm1 PLAY     &mc_minus     &mc_plus      &mc_tilde         &mc_pipe      &mc_equal     &mc_lt        &mc_gt        &mc_under
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       ___           ___               XXX           ___
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    function_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp C_STOP    &kp C_PREV    &kp C_PP      &kp C_NEXT    &kp C_BRI_UP      XXX           XXX           &kp F11       &kp F12       XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             HRML(F1,      F2,           F3,           F4)           &kp F5            &kp F6        HRMR(F7,      F8,           F9,           F10)
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           &kp C_VOL_DN  &kp C_MUTE    &kp C_VOL_UP  &kp C_BRI_DN      XXX           XXX           XXX           XXX           XXX
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       &tog FUNCT    XXX               XXX           XXX
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    layer_hub {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &to BLT       XXX           XXX           XXX           XXX               XXX           XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &to HANDS_TI  &to QWERTY    &to GAME      &to BASE      XXX               XXX           XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           XXX           XXX           XXX           XXX               XXX           XXX           XXX           XXX           XXX
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       XXX           XXX               XXX           XXX
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    blt_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &bt BT_SEL 0  &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_SEL 3  &bt BT_CLR        XXX           XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           &bt BT_PRV    &out OUT_TOG  &bt BT_NXT    &bootloader       &bootloader   XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           XXX           XXX           XXX           &reset            &reset        XXX           XXX           XXX           XXX
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       XXX           XXX               XXX           XXX
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    gaming_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             &kp TAB       &kp Q         &kp W         &kp E         &kp R             &kp T         &kp Y         &kp U         &kp I         &kp O
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp LSHIFT    &kp A         &kp S         &kp D         &kp F             &kp G         &kp H         &kp J         &kp K         &kp L
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             &kp LCTRL     &kp Z         &kp X         &kp C         &kp V             &kp B         &kp N         &kp M         XXX           &kp P
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       &kp LALT      &kp SPACE         &sh_comma     &tog_gametype
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    gametype_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             ___           ___           ___           ___           ___               ___           ___           ___           ___           ___
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             ___           ___           ___           ___           ___               ___           ___           ___           ___           ___
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             ___           ___           ___           ___           ___               ___           ___           ___           ___           ___
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       &tog_gametype  ___               ___           ___
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    mouse_layer {
      bindings = <
        // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
             XXX           U_WH_D        U_MS_U        U_WH_U        XXX               XXX           XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           U_MS_L        U_MS_D        U_MS_R        XXX               XXX           XXX           XXX           XXX           XXX
        // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
             XXX           U_WH_L        U_BTN3        U_WH_R        XXX               XXX           XXX           XXX           XXX           XXX
        // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                                       U_BTN2        U_BTN1            XXX           ___
        //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
      >;
    };

    // vallak_base_layer {
    // bindings = <
    //   &td_layer CALLUM_BASE Q /**/ &kp W /**/ &kp F /**/ &kp P /**/ &kp B 						                      &kp J /**/ &kp L /**/ &kp U /**/ &kp Y /**/ &kp BSPC
    //   &kp A /**/ &kp R /**/ HRML(S, T) /**/ &kp G 			                                                    &kp M /**/ HRMR(N, E) /**/ &kp I /**/ &kp O
    //   &kp Z /**/ &kp X /**/ &kp C /**/ &kp D /**/ &kp V				                                              &kp K /**/ &kp H /**/ &td UNDER SLASH /**/ &td EXCL DOT /**/ &td MINUS COMMA
    //   &mt LC(LS(LALT)) SPACE /**/ &skq LSHIFT                                                               &sk RCTRL /**/ &to SYM
    //   >;
    // };

    // vallak_sym_layer {
    // bindings = <
    //   &kp ESC /**/ &kp AT /**/ &td LC(LG(LS(N4))) HASH /**/ &kp DLLR /**/ &kp PRCNT		                      &kp CARET /**/ &kp LESS_THAN /**/ &kp GREATER_THAN /**/ &kp SEMI /**/ &kp BSPC // TODO: add ":"
    //   &kp TAB /**/ &kp EQUAL /**/ &kp LA(RBKT) /**/ &kp LA(LS(RBKT)) /**/ &kp SQT 		                      &kp BSLH /**/ &kp LBRC /**/ &kp RBRC /**/ &kp PIPE /**/ &kp ENTER
    //   &kp TILDE /**/ &kp LA(N3) /**/ &kp LA(LBKT) /**/ &kp LA(LS(LBKT)) /**/ &kp DQT 	                      &kp LBKT /**/ &kp LPAR /**/ &kp RPAR /**/ &kp RBKT /**/ &to NAV
    //   &to BASE /**/ &skq LSHIFT                                                                             &sk RALT /**/ &to NUM
    //   >;
    // };

    // vallak_num_layer {
    // bindings = <
    //   &kp ESC /**/ &kp C_PP /**/ &kp C_PREV /**/ &kp C_NEXT /**/ &kp UNDER   			                          &kp MINUS /**/ &kp N7 /**/ &kp N8 /**/ &kp N9 /**/ &kp BSPC
    //   &kp TAB /**/ &none /**/ &kp C_VOL_DN /**/ &kp C_VOL_UP /**/ &kp PLUS 			                            &kp EQUAL /**/ &kp N4 /**/ &kp N5 /**/ &kp N6 /**/ &kp ENTER
    //   &to BLT /**/ &kp AMPS /**/ &kp SLASH /**/ &kp STAR /**/ &kp DOT			                                  &kp N0 /**/ &kp N1 /**/ &kp N2 /**/ &kp N3 /**/ &to NAV
    //   &to BASE /**/ &sk LGUI                                                                               &sk RALT /**/ &to NUM
    //   >;
		// };

    // vallak_nav_layer {
    // bindings = <
    //   &kp ESC /**/ &none /**/ &none /**/ &none /**/ &kp N5 			                                            &kp BACK /**/ &kp PREV_TAB /**/ &kp NEXT_TAB /**/ &kp FWRD /**/ &kp BSPC
    //   &kp TAB /**/ &none /**/ &none /**/ &none /**/ &kp DEL                                                 &kp LEFT /**/ &kp DOWN /**/ &kp UP /**/ &kp RIGHT /**/ &kp ENTER
    //   &td LG(GRAVE) GRAVE /**/ &none /**/ &none /**/ &none /**/ &none                                       &none /**/ &kp PG_DN /**/ &kp PG_UP /**/ &to GAME /**/ &to NAV
    //   &to BASE /**/ &sk LGUI                                                                                &sk RALT /**/ &to SYM
    //   >;
    // };



    // callum_base_layer {
    //   bindings = <
    //     // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    //        &td_layer BASE Q &kp W        &kp F         &kp P         &kp B             &kp J         &kp L         &kp U         &kp Y         &kp SQT
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          &kp A         &kp R         &kp S         &kp T         &kp G             &kp M         &kp N         &kp E         &kp I         &kp O
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          &kp Z         &kp X         &kp C         &kp D         &kp V             &kp K         &kp H         &kp COMMA     &kp DOT       &kp SEMICOLON
    //     // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
    //                                                    &retro_mo CALLUM_NAV F &kp SPACE  &skq LSHIFT   &retro_mo CALLUM_SYM F   // REVIEW: maybe I don't need sticky SHIFT
    //     //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
    //   >;
    // };

    // callum_sym_layer {
    //   bindings = <
    //     // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    //          &kp ESC       &kp LBKT      &kp LBRC      &kp LPAR      &kp TILDE         &kp CARET     &kp RPAR      &kp RBRC      &kp RBKT      &kp GRAVE
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          &kp MINUS     &kp STAR      &kp EQUAL     &kp UNDER     &kp DOLLAR        &kp HASH      NK(LSHIFT)     NK(LCTRL)    NK(LALT)      NK(LGUI)
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          &kp PLUS      &kp PIPE      &kp AT        &kp SLASH     &kp PERCENT       XXX           &kp BSLH      &kp AMPS      &kp QMARK     &kp EXCL
    //     // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
    //                                                    ___           ___               ___           ___
    //     //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
    //   >;
    // };

    // callum_nav_layer {
    //   bindings = <
    //     // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    //          &kp ESC       XXX           XXX           XXX           XXX               &kp PG_UP     &kp HOME      &kp UP        &kp END       &kp DEL
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          NK(LGUI)      NK(LALT)      NK(LCTRL)    NK(LSHIFT)     XXX               &kp PG_DN     &kp LEFT      &kp DOWN      &kp RIGHT     &kp BSPC
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          XXX           XXX           XXX           XXX           XXX               &kp CAPS      XXX           &kp TAB       XXX           &kp ENTER
    //     // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
    //                                                    ___           ___               ___           ___
    //     //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
    //   >;
    // };

    // callum_num_layer {
    //   bindings = <
    //     // ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    //          &kp N7        &kp N5        &kp N3        &kp N1        &kp N9            &kp N8        &kp N0        &kp N2        &kp N4        &kp N6
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          NK(LGUI)      NK(LALT)      NK(LCTRL)    NK(LSHIFT)     &kp F11           &kp F12       NK(LSHIFT)     NK(LCTRL)    NK(LALT)      NK(LGUI)
    //     // ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    //          &kp F7        &kp F5        &kp F3        &kp F1        &kp F9            &kp F8        &kp F10        &kp F2        &kp F4        &kp F6
    //     // ╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
    //                                                    ___           ___               ___           ___
    //     //                                           ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
    //   >;
    // };

	};
};
